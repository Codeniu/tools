# 在线录屏工具

一款简单易用的浏览器录屏工具，无需安装任何插件或软件，直接在浏览器中录制屏幕并保存为 WebM 格式视频。

## ✨ 功能特点

- 🎬 **屏幕录制** - 支持录制整个屏幕、特定窗口或浏览器标签页
- 🎤 **音频捕获** - 支持同时录制系统音频
- ⏸️ **暂停/继续** - 录制过程中可随时暂停和恢复
- ▶️ **即时播放** - 录制完成后立即在浏览器中播放预览
- ⬇️ **一键下载** - 将录制的视频保存为 WebM 格式
- ⏱️ **实时计时** - 显示录制时长
- 📱 **响应式设计** - 完美适配桌面和移动设备
- ⌨️ **键盘快捷键** - 提供便捷的快捷键操作
- 🎨 **现代化界面** - 采用渐变色设计和流畅动画

## 🚀 快速开始

### 在线使用

直接在浏览器中打开 `index.html` 文件即可开始使用。

### 本地运行

1. 克隆或下载本项目
2. 在浏览器中打开 `在线录屏工具/index.html`
3. 点击"开始录制"按钮
4. 选择要录制的屏幕、窗口或标签页
5. 点击"停止录制"结束录制
6. 播放预览或下载视频

## 📖 使用说明

### 基本操作步骤

1. **开始录制**
   - 点击绿色"开始录制"按钮
   - 在弹出的浏览器对话框中选择要录制的内容：
     - 整个屏幕
     - 特定应用窗口
     - 浏览器标签页
   - 勾选"分享音频"可同时录制系统音频（可选）

2. **录制过程**
   - 实时预览正在录制的内容
   - 计时器显示录制时长
   - 点击"暂停"按钮可暂停录制
   - 再次点击"继续"恢复录制

3. **停止录制**
   - 点击红色"停止录制"按钮
   - 或直接停止屏幕共享
   - 录制完成后自动显示视频预览

4. **播放和下载**
   - 在视频播放器中观看录制结果
   - 查看录制信息（时长、文件大小）
   - 点击蓝色"下载视频"按钮保存到本地

### 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Ctrl/Cmd + R` | 开始录制（仅当未录制时） |
| `Ctrl/Cmd + S` | 停止录制（仅当正在录制时） |
| `Space` | 暂停/继续录制（仅当正在录制时） |

## 🔧 技术实现

### 核心技术

本工具使用以下 Web API 构建：

- **MediaDevices API** - 获取屏幕媒体流

  ```javascript
  navigator.mediaDevices.getDisplayMedia({
    video: { mediaSource: 'screen' },
    audio: true
  })
  ```

- **MediaRecorder API** - 录制媒体流

  ```javascript
  const mediaRecorder = new MediaRecorder(stream, {
    mimeType: 'video/webm;codecs=vp9'
  })
  ```

- **Blob API** - 创建视频文件

  ```javascript
  const blob = new Blob(recordedChunks, { type: 'video/webm' })
  ```

- **URL API** - 生成视频预览和下载链接

  ```javascript
  const url = URL.createObjectURL(blob)
  ```

### 录制流程

```
用户点击开始
    ↓
选择屏幕/窗口
    ↓
获取媒体流 (MediaStream)
    ↓
创建 MediaRecorder 实例
    ↓
收集视频数据块 (ondataavailable)
    ↓
用户停止录制
    ↓
生成 Blob 对象
    ↓
创建预览 URL
    ↓
显示视频播放器
    ↓
提供下载功能
```

### 视频格式

- **格式**: WebM (Web Media)
- **视频编码**: VP9 (优先) 或 VP8
- **音频编码**: Opus
- **容器**: Matroska

选择 WebM 格式的原因：

- 浏览器原生支持
- 开源免费
- 压缩率高
- 质量优秀

## 🌐 浏览器兼容性

| 浏览器 | 版本要求 | 屏幕共享 | MediaRecorder |
|--------|---------|---------|---------------|
| Chrome | 72+ | ✅ | ✅ |
| Edge | 79+ | ✅ | ✅ |
| Firefox | 66+ | ✅ | ✅ |
| Safari | 13+ | ✅ | ⚠️ 部分支持 |
| Opera | 60+ | ✅ | ✅ |

### 注意事项

- Safari 对 WebM 格式支持有限，建议使用 Chrome、Edge 或 Firefox
- 首次使用需要授予屏幕录制权限
- 某些网站可能禁止录制其内容（受 DRM 保护）

## 📊 录制信息

录制完成后会显示以下信息：

- **录制时长** - 格式为 `HH:MM:SS`
- **文件大小** - 自动转换为合适的单位（Bytes/KB/MB/GB）
- **视频格式** - WebM 格式说明

## 🔒 隐私说明

- ✅ 所有录制操作均在**本地浏览器**完成
- ✅ 视频数据**不会上传**到任何服务器
- ✅ 录制内容**仅保存在**您的设备上
- ✅ 不收集任何用户数据或录制内容

## 🛠️ 开发说明

### 文件结构

```
在线录屏工具/
├── index.html          # 主文件（包含 HTML、CSS、JavaScript）
└── README.md           # 使用文档
```

### 自定义配置

如需修改录制参数，可在代码中调整以下配置：

```javascript
// 视频分辨率
video: {
  width: { ideal: 1920 },  // 理想宽度
  height: { ideal: 1080 }  // 理想高度
}

// 视频编码格式
mimeType: 'video/webm;codecs=vp9'  // VP9 或 VP8

// 数据收集间隔（毫秒）
mediaRecorder.start(1000)  // 每秒收集一次数据
```

## 💡 使用场景

- 📚 **制作教程** - 录制软件操作演示
- 🎮 **游戏录制** - 捕获精彩游戏瞬间
- 🐛 **问题报告** - 录制 bug 复现步骤
- 📢 **产品演示** - 展示产品功能
- 🎓 **在线教学** - 录制网课内容
- 💼 **会议记录** - 保存在线会议内容

## ❓ 常见问题

**Q: 为什么无法开始录制？**

A: 请确保：

- 使用支持的浏览器版本
- 允许浏览器访问屏幕录制权限
- 不是通过 `file://` 协议打开（某些浏览器限制）

**Q: 录制的视频在哪里？**

A: 录制完成后需要点击"下载视频"按钮，视频会保存到浏览器默认下载位置。

**Q: 可以转换为 MP4 格式吗？**

A: 本工具仅输出 WebM 格式。如需 MP4，可使用在线转换工具或 FFmpeg 等软件进行转换。

**Q: 录制文件大小是多少？**

A: 取决于录制时长、屏幕分辨率和内容复杂度。一般情况下，每分钟约 10-50MB。

**Q: 能否录制特定区域？**

A: 目前仅支持录制整个屏幕/窗口/标签页。录制特定区域可使用操作系统自带工具或专业录屏软件。

## 📝 更新日志

### v1.0.0 (2024-01-04)

- ✨ 初始版本发布
- 🎬 支持屏幕、窗口、标签页录制
- ⏸️ 支持暂停/继续功能
- ▶️ 录制完成后即时播放
- ⬇️ 一键下载 WebM 视频
- ⏱️ 实时计时器
- ⌨️ 键盘快捷键支持
- 📱 响应式设计
- 🎨 现代化渐变 UI

## 📄 许可证

MIT License - 可自由使用、修改和分发

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

---

**💡 提示**: 首次使用时，浏览器会请求屏幕录制权限，请点击"允许"以继续使用。
