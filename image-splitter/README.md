# 图片分割工具 - Image Splitter

简单高效的图片分割工具，将图片按网格分割成多个小图片，纯前端实现，保护隐私。

## 简介

图片分割工具是一个完全运行在浏览器中的在线工具，可以将一张大图片按照指定的行列数分割成多个小图片。所有处理都在本地完成，无需上传到服务器，确保您的图片隐私安全。

## 主要功能

### 核心特性

- ✅ **网格分割** - 支持按指定行列数均匀分割图片
- ✅ **拖拽上传** - 支持点击上传和拖拽上传两种方式
- ✅ **实时预览** - 上传后立即显示图片预览和详细信息
- ✅ **多格式输出** - 支持 PNG、JPEG、WebP 三种输出格式
- ✅ **质量调节** - JPEG 和 WebP 格式支持质量调节（1-100）
- ✅ **批量下载** - 支持单个下载或一键下载全部分割图片
- ✅ **详细信息** - 显示每个分割图片的尺寸和文件大小
- ✅ **完全本地** - 所有处理在浏览器本地完成，无需网络

### 分割模式

- **网格分割**：按指定的行数和列数均匀分割图片
  - 支持 1-20 行、1-20 列
  - 自动计算每个分割区域的尺寸
  - 保持原始图片比例

### 输出格式

- **PNG** - 无损压缩，适合需要高质量的场景
- **JPEG** - 有损压缩，文件更小，适合照片
- **WebP** - 现代格式，体积小质量好（推荐）

## 使用说明

### 基本使用步骤

1. **上传图片**
   - 点击上传区域选择图片
   - 或直接拖拽图片到上传区域
   - 支持格式：JPG、PNG、GIF、WebP 等

2. **设置分割参数**
   - **行数**：设置垂直方向分割的数量（1-20）
   - **列数**：设置水平方向分割的数量（1-20）
   - **输出格式**：选择 PNG、JPEG 或 WebP
   - **图片质量**：设置 JPEG/WebP 的质量（1-100）

3. **开始分割**
   - 点击"开始分割"按钮
   - 等待处理完成
   - 查看分割结果

4. **下载图片**
   - 单个下载：点击每个分割图片下方的"下载"按钮
   - 批量下载：点击"下载全部"按钮一次性下载所有图片
   - 文件名格式：`原文件名_row行号_col列号.扩展名`

### 使用示例

#### 示例 1：将图片分割为 4 等份
```
行数：2
列数：2
输出格式：PNG
结果：4 张均匀的图片
```

#### 示例 2：创建九宫格图片
```
行数：3
列数：3
输出格式：JPEG
质量：90
结果：9 张九宫格图片
```

#### 示例 3：分割为横向条状
```
行数：1
列数：5
输出格式：WebP
质量：80
结果：5 张横向排列的条状图片
```

#### 示例 4：分割为纵向条状
```
行数：5
列数：1
输出格式：PNG
结果：5 张纵向排列的条状图片
```

## 应用场景

### 设计与创意
- **九宫格图片制作** - 将一张图片分割成 9 张用于社交媒体发布
- **拼图游戏制作** - 将图片分割成拼图块
- **图案设计** - 将大图案分割成重复单元
- **素材切片** - 将设计稿分割成多个小图标或元素

### 社交媒体
- **Instagram 九宫格** - 分割大图用于 Instagram 发布
- **微信朋友圈** - 分割图片用于多图展示
- **头像制作** - 从大图中提取小头像
- **表情包制作** - 从大图中提取单个表情

### 开发与测试
- **图片资源切片** - 将大 UI 图分割成小图标
- **测试图片生成** - 创建测试用的小图片集
- **雪碧图制作** - 虽然通常需要合并，但分割也是反向需求
- **响应式图片** - 分割不同尺寸用于不同设备

### 教育与学习
- **数学教学** - 演示分数和比例概念
- **美术教学** - 分析构图和色彩分布
- **编程练习** - Canvas 和图像处理学习

## 技术特点

### 技术栈
- **HTML5** - 页面结构和语义化标签
- **CSS3** - 现代化样式和渐变效果
- **JavaScript (ES6+)** - 核心逻辑和交互
- **Canvas API** - 图片分割和处理
- **File API** - 文件读取和操作
- **Blob API** - 二进制数据处理

### 核心实现原理

1. **图片读取**
   ```javascript
   const reader = new FileReader();
   reader.readAsDataURL(file);
   ```

2. **Canvas 分割**
   ```javascript
   const canvas = document.createElement('canvas');
   const ctx = canvas.getContext('2d');
   ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);
   ```

3. **格式转换**
   ```javascript
   canvas.toBlob((blob) => {
       // 处理分割后的图片
   }, 'image/png', quality);
   ```

### 性能优化
- 使用 Canvas API 进行高效图片处理
- 异步处理避免阻塞 UI
- 延迟下载避免浏览器限制
- 内存优化，及时释放资源

### 浏览器兼容性
- Chrome 60+ ⭐⭐⭐⭐⭐
- Edge 79+ ⭐⭐⭐⭐⭐
- Firefox 55+ ⭐⭐⭐⭐⭐
- Safari 11+ ⭐⭐⭐⭐

## 隐私与安全

### 数据安全
- ✅ 所有图片处理在浏览器本地完成
- ✅ 不上传任何文件到服务器
- ✅ 不收集任何用户信息
- ✅ 完全离线可用

### 数据控制
- 用户完全控制自己的图片
- 图片不会离开您的设备
- 可以随时关闭页面清除数据
- 不存在数据泄露风险

## 快速启动

### 方式一：直接打开
```bash
# 在浏览器中打开
open image-splitter/index.html

# 或者双击文件打开
```

### 方式二：通过首页访问
```bash
# 在项目根目录打开
open index.html
# 点击"图片分割工具"卡片
```

### 方式三：本地服务器（推荐）
```bash
# 使用 Python 启动
python -m http.server 8000

# 使用 Node.js 启动
npx http-server

# 访问 http://localhost:8000/image-splitter/
```

## 功能限制与注意事项

### 当前限制
- 最大行列数：20 行 × 20 列（共 400 张图片）
- 建议图片大小：< 50MB
- 支持的图片格式：JPG、PNG、GIF、WebP 等

### 使用建议
1. **图片质量**：高质量图片分割效果更好
2. **分割数量**：避免过多分割（超过 100 张），可能影响性能
3. **格式选择**：
   - 需要透明背景选择 PNG
   - 照片类图片选择 JPEG 或 WebP
   - 追求小体积选择 WebP
4. **质量设置**：
   - JPEG 建议 80-95
   - WebP 建议 75-95
5. **批量下载**：大量图片下载时浏览器可能会询问权限

### 常见问题

**Q1: 为什么分割后的图片有白边？**
A: 这可能是由于原始图片尺寸不能被行列数整除导致的。建议使用能被整除的尺寸，或接受轻微的边缘差异。

**Q2: 支持分割 PDF 文件吗？**
A: 目前不支持。请先将 PDF 转换为图片格式。

**Q3: 可以调整每个分割区域的尺寸吗？**
A: 当前版本仅支持均匀分割。未来版本可能添加自定义尺寸功能。

**Q4: 分割后的图片质量会下降吗？**
A:
- PNG 格式：不会下降（无损）
- JPEG/WebP 格式：根据质量设置可能有轻微损失

**Q5: 可以上传多张图片批量分割吗？**
A: 当前版本每次只能处理一张图片。如需处理多张，请逐个上传。

**Q6: 为什么下载全部功能被浏览器阻止了？**
A: 某些浏览器会阻止多个文件的自动下载。请允许浏览器的下载权限，或逐个下载。

**Q7: 支持移动设备吗？**
A: 完全支持。采用响应式设计，在手机、平板、电脑上都能正常使用。

## 开发计划

### 已完成功能 ✅
- [x] 基础网格分割功能
- [x] 拖拽上传
- [x] 实时预览
- [x] 多格式输出（PNG/JPEG/WebP）
- [x] 质量调节
- [x] 批量下载
- [x] 响应式设计

### 计划功能 📋
- [ ] 自定义不规则分割
- [ ] 按像素尺寸分割
- [ ] 批量处理多张图片
- [ ] 添加分割线预览
- [ ] 支持输出为 ZIP 压缩包
- [ ] 支持水平/垂直翻转
- [ ] 支持旋转后分割
- [ ] 添加水印功能
- [ ] 撤销/重做功能
- [ ] 分割模板保存

## 使用技巧

### 技巧 1：Instagram 九宫格
```
设置：3 行 × 3 列
格式：JPEG
质量：90
用途：创建 Instagram 九宫格帖子
```

### 技巧 2：微信朋友圈
```
设置：2 行 × 2 列
格式：JPEG
质量：85
用途：朋友圈多图展示
```

### 技巧 3：头像制作
```
设置：原始图片尺寸分析
格式：PNG
用途：从合照中提取单人头像
```

### 技巧 4：拼图游戏
```
设置：4 行 × 4 列
格式：JPEG
质量：95
用途：制作 16 块拼图游戏
```

## 许可证

本项目基于开源许可证发布。欢迎自由使用、修改和分发。

## 贡献

欢迎提交 Issue 和 Pull Request！

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 联系方式

如有问题或建议，请通过以下方式联系：

- 提交 Issue
- 发起 Discussion
- 查看项目文档

## 更新日志

### v1.0.0 (2025-01-04)
- ✨ 首次发布
- ✅ 支持网格分割（1-20 行 × 1-20 列）
- ✅ 支持拖拽上传
- ✅ 支持多种输出格式
- ✅ 支持批量下载
- ✅ 完全本地处理

---

**享受使用！** 🖼️✂️🎉
